<div class="list-tab-container">
  <p-dataView
    [value]="results"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[10, 20, 50, 100, 200]"
    layout="list"
    styleClass="p-dataview-sm"
    [sortField]="sortField"
    [sortOrder]="sortOrder"
  >
    <ng-template #list let-items>
      <div class="games-list-container">
        <ng-template #header>
          <div class="flex flex-col md:flex-row md:justify-between m-0 p-0">
            <p-select
              [options]="sortOptions"
              [(ngModel)]="sortField"
              placeholder="Sort By Price"
              (onChange)="onSortChange($event)"
              styleClass="mb-0 md:mb-0"
              size="small"
            />
          </div>
        </ng-template>
        <div
          *ngFor="let game of items; let first = first"
          class="game-list-wrapper"
        >
          <div
            class="game-list-item"
            [class.selected]="selectedGame === game"
            (click)="onSelectGame(game)"
            [ngClass]="{ 'border-top': !first }"
          >
            <div class="game-header">
              <h3 class="game-name">{{ game.name }}</h3>
              <div class="game-rank">Rank #{{ game.rank }}</div>
            </div>

            <div class="game-details">
              <div class="game-info">
                <div class="info-row">
                  <span class="label">Genre:</span>
                  <span class="value genre">{{ game.genre }}</span>
                </div>
                <div class="info-row">
                  <span class="label">Platform:</span>
                  <span class="value platform">{{ game.platform }}</span>
                </div>
                <div class="info-row">
                  <span class="label">Publisher:</span>
                  <span class="value">{{ game.publisher }}</span>
                </div>
                <div class="info-row">
                  <span class="label">Year:</span>
                  <span class="value">{{ game.year }}</span>
                </div>
              </div>

              <div class="sales-info">
                <div class="sales-header">Sales (in millions)</div>
                <div class="sales-grid">
                  <div class="sales-item">
                    <span class="sales-label">Global:</span>
                    <span class="sales-value global">{{
                      game.global_sales | number : "1.2-2"
                    }}</span>
                  </div>
                  <div class="sales-item">
                    <span class="sales-label">NA:</span>
                    <span class="sales-value">{{
                      game.na_sales | number : "1.2-2"
                    }}</span>
                  </div>
                  <div class="sales-item">
                    <span class="sales-label">EU:</span>
                    <span class="sales-value">{{
                      game.eu_sales | number : "1.2-2"
                    }}</span>
                  </div>
                  <div class="sales-item">
                    <span class="sales-label">JP:</span>
                    <span class="sales-value">{{
                      game.jp_sales | number : "1.2-2"
                    }}</span>
                  </div>
                  <div class="sales-item">
                    <span class="sales-label">Other:</span>
                    <span class="sales-value">{{
                      game.other_sales | number : "1.2-2"
                    }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </p-dataView>
</div>
